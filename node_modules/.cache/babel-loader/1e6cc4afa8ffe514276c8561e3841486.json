{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/foris-react-redux/client/src/components/SchoolPage/Majors/MajorsProvider.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MajorsContext = /*#__PURE__*/React.createContext();\n\nconst MajorsProvider = ({\n  children\n}) => {\n  _s();\n\n  const [filterState, setFilterState] = React.useState({\n    '1': false,\n    '2': false,\n    '3': true,\n    '5': false,\n    '6': false,\n    '7': false,\n    '8': false\n  });\n  const [filterCredLevs, setFilterCredLevs] = React.useState(['3']);\n  React.useEffect(() => {\n    let credLevsTemp = [];\n\n    for (const value in filterState) {\n      if (filterState[`${value}`]) {\n        credLevsTemp.push(value);\n      }\n    }\n\n    setFilterCredLevs([...credLevsTemp]); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [filterState]);\n\n  const handleFilterChange = e => {\n    setFilterState({ ...filterState,\n      [e.target.name]: e.target.checked\n    });\n  };\n\n  const programNumsOnFilterChange = programNums => {\n    const currentPrograms = Object.entries(programNums).filter(pn => filterCredLevs.includes(pn[0]));\n\n    if (currentPrograms.length > 0) {\n      const programsTotal = currentPrograms.reduce((prev, cur) => prev.concat(cur[1]), []).reduce((prev, cur) => prev + cur);\n      return ~~programsTotal;\n    } else {\n      return 0;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(MajorsContext.Provider, {\n    value: {\n      filterState,\n      setFilterState,\n      filterCredLevs,\n      setFilterCredLevs,\n      handleFilterChange,\n      programNumsOnFilterChange\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MajorsProvider, \"Bg6VjsENxKU8MWzETKRZPUFEhCA=\");\n\n_c = MajorsProvider;\nconst MajorsConsumer = MajorsContext.Consumer;\nexport { MajorsProvider, MajorsConsumer, MajorsContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"MajorsProvider\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/foris-react-redux/client/src/components/SchoolPage/Majors/MajorsProvider.jsx"],"names":["React","MajorsContext","createContext","MajorsProvider","children","filterState","setFilterState","useState","filterCredLevs","setFilterCredLevs","useEffect","credLevsTemp","value","push","handleFilterChange","e","target","name","checked","programNumsOnFilterChange","programNums","currentPrograms","Object","entries","filter","pn","includes","length","programsTotal","reduce","prev","cur","concat","MajorsConsumer","Consumer"],"mappings":";;;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAEA,MAAMC,aAAiC,gBAAGD,KAAK,CAACE,aAAN,EAA1C;;AAEA,MAAMC,cAAc,GAAG,CAAC;AACtBC,EAAAA;AADsB,CAAD,KAIG;AAAA;;AACxB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,KAAK,CAACO,QAAN,CAAe;AACnD,SAAK,KAD8C;AAEnD,SAAK,KAF8C;AAGnD,SAAK,IAH8C;AAInD,SAAK,KAJ8C;AAKnD,SAAK,KAL8C;AAMnD,SAAK,KAN8C;AAOnD,SAAK;AAP8C,GAAf,CAAtC;AASA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCT,KAAK,CAACO,QAAN,CAAe,CAAC,GAAD,CAAf,CAA5C;AAEAP,EAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AACpB,QAAIC,YAAY,GAAG,EAAnB;;AACA,SAAK,MAAMC,KAAX,IAAoBP,WAApB,EAAiC;AAC/B,UAAIA,WAAW,CAAE,GAAEO,KAAM,EAAV,CAAf,EAA6B;AAC3BD,QAAAA,YAAY,CAACE,IAAb,CAAkBD,KAAlB;AACD;AACF;;AACDH,IAAAA,iBAAiB,CAAC,CAAC,GAAGE,YAAJ,CAAD,CAAjB,CAPoB,CAQpB;AACD,GATD,EASG,CAACN,WAAD,CATH;;AAWA,QAAMS,kBAAkB,GAAGC,CAAC,IAAI;AAC9BT,IAAAA,cAAc,CAAC,EAAE,GAAGD,WAAL;AAAkB,OAACU,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAA5C,KAAD,CAAd;AACD,GAFD;;AAIA,QAAMC,yBAAyB,GAAIC,WAAD,IAAiC;AACjE,UAAMC,eAA2B,GAAGC,MAAM,CAACC,OAAP,CAAeH,WAAf,EAA4BI,MAA5B,CAAmCC,EAAE,IACvEjB,cAAc,CAACkB,QAAf,CAAwBD,EAAE,CAAC,CAAD,CAA1B,CADkC,CAApC;;AAGA,QAAIJ,eAAe,CAACM,MAAhB,GAAyB,CAA7B,EAAgC;AAC9B,YAAMC,aAAa,GAAGP,eAAe,CAClCQ,MADmB,CACZ,CAACC,IAAD,EAAOC,GAAP,KAAeD,IAAI,CAACE,MAAL,CAAYD,GAAG,CAAC,CAAD,CAAf,CADH,EACwB,EADxB,EAEnBF,MAFmB,CAEZ,CAACC,IAAD,EAAOC,GAAP,KAAeD,IAAI,GAAGC,GAFV,CAAtB;AAGA,aAAO,CAAC,CAACH,aAAT;AACD,KALD,MAKO;AACL,aAAO,CAAP;AACD;AACF,GAZD;;AAcA,sBACE,QAAC,aAAD,CAAe,QAAf;AACE,IAAA,KAAK,EAAE;AACLvB,MAAAA,WADK;AAELC,MAAAA,cAFK;AAGLE,MAAAA,cAHK;AAILC,MAAAA,iBAJK;AAKLK,MAAAA,kBALK;AAMLK,MAAAA;AANK,KADT;AAAA,cASGf;AATH;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,CA1DD;;GAAMD,c;;KAAAA,c;AA4DN,MAAM8B,cAAc,GAAGhC,aAAa,CAACiC,QAArC;AACA,SAAS/B,cAAT,EAAyB8B,cAAzB,EAAyChC,aAAzC","sourcesContent":["// @flow\nimport * as React from 'react'\n\nconst MajorsContext: React.Context<any> = React.createContext()\n\nconst MajorsProvider = ({\n  children,\n}: {\n  children: React.Element<any>,\n}): React.Element<any> => {\n  const [filterState, setFilterState] = React.useState({\n    '1': false,\n    '2': false,\n    '3': true,\n    '5': false,\n    '6': false,\n    '7': false,\n    '8': false,\n  })\n  const [filterCredLevs, setFilterCredLevs] = React.useState(['3'])\n\n  React.useEffect(() => {\n    let credLevsTemp = []\n    for (const value in filterState) {\n      if (filterState[`${value}`]) {\n        credLevsTemp.push(value)\n      }\n    }\n    setFilterCredLevs([...credLevsTemp])\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [filterState])\n\n  const handleFilterChange = e => {\n    setFilterState({ ...filterState, [e.target.name]: e.target.checked })\n  }\n\n  const programNumsOnFilterChange = (programNums: Object): number => {\n    const currentPrograms: Array<any> = Object.entries(programNums).filter(pn =>\n      filterCredLevs.includes(pn[0])\n    )\n    if (currentPrograms.length > 0) {\n      const programsTotal = currentPrograms\n        .reduce((prev, cur) => prev.concat(cur[1]), [])\n        .reduce((prev, cur) => prev + cur)\n      return ~~programsTotal\n    } else {\n      return 0\n    }\n  }\n\n  return (\n    <MajorsContext.Provider\n      value={{\n        filterState,\n        setFilterState,\n        filterCredLevs,\n        setFilterCredLevs,\n        handleFilterChange,\n        programNumsOnFilterChange,\n      }}>\n      {children}\n    </MajorsContext.Provider>\n  )\n}\n\nconst MajorsConsumer = MajorsContext.Consumer\nexport { MajorsProvider, MajorsConsumer, MajorsContext }\n"]},"metadata":{},"sourceType":"module"}