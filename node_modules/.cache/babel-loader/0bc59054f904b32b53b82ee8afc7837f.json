{"ast":null,"code":"import { googleProvider, firebaseAuth } from '../util/firebase';\nimport { api } from '../util/api';\nimport axios from 'axios';\nexport const signUpWithEmail = async ({\n  email,\n  password\n}) => {\n  try {\n    const user = await firebaseAuth.createUserWithEmailAndPassword(email, password);\n    const token = await user.getIdToken(true);\n    const {\n      data\n    } = await api.put('http://localhost:3080/api/v1/users/', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }, user);\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const signInWithEmail = async ({\n  email,\n  password\n}) => {\n  try {\n    const {\n      user\n    } = await firebaseAuth.signInWithEmailAndPassword(email, password);\n    const token = await user.getIdToken(true);\n    const {\n      data\n    } = await axios.get(`http://localhost:3080/api/v1/users/`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data.user;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const signInWithGoogle = async () => {\n  try {\n    const {\n      user\n    } = await firebaseAuth.signInWithPopup(googleProvider);\n    const token = await user.getIdToken(true);\n    const {\n      data\n    } = await axios.get(`http://localhost:3080/api/v1/users/`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const forgotPassword = async () => {};\nexport const signOut = () => {\n  firebaseAuth.signOut();\n};\nexport const deleteAccount = () => {};\nexport const likeSchoolById = async schoolId => {\n  try {\n    const user = await firebaseAuth.currentUser; // if (user) {}\n\n    console.log(user);\n    const token = await user.getIdToken(true);\n    const {\n      data\n    } = await axios.get(`http://localhost:3080/api/v1/users/like/?schoolId=${schoolId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data;\n  } catch (err) {\n    console.log('ðŸš€ ~ line 90, file: useAuth.js ~ likeSchoolById() try-catch ~ err', err);\n  }\n};\nexport const unlikeSchoolById = async schoolId => {\n  try {\n    const user = await firebaseAuth.currentUser;\n    const token = await user.getIdToken();\n    const {\n      data\n    } = await axios.get(`http://localhost:3080/api/v1/users/unlike?schoolId=${schoolId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return data;\n  } catch (err) {\n    console.log('ðŸš€ ~ file: useSchools.js ~ unlikeSchoolById() try-catch ~ err', err);\n  }\n};","map":{"version":3,"sources":["/Applications/MAMP/htdocs/foris-react-redux/client/src/hooks/useAuth.js"],"names":["googleProvider","firebaseAuth","api","axios","signUpWithEmail","email","password","user","createUserWithEmailAndPassword","token","getIdToken","data","put","headers","Authorization","err","console","log","signInWithEmail","signInWithEmailAndPassword","get","signInWithGoogle","signInWithPopup","forgotPassword","signOut","deleteAccount","likeSchoolById","schoolId","currentUser","unlikeSchoolById"],"mappings":"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","sourcesContent":["// @flow\nimport { googleProvider, firebaseAuth } from '../util/firebase'\nimport { api } from '../util/api'\nimport axios from 'axios'\n\nexport const signUpWithEmail = async ({\n  email,\n  password,\n}: {\n  email: string,\n  password: string,\n}): Function => {\n  try {\n    const user = await firebaseAuth.createUserWithEmailAndPassword(\n      email,\n      password\n    )\n    const token = await user.getIdToken(true)\n    const { data } = await api.put(\n      'http://localhost:3080/api/v1/users/',\n      {\n        headers: { Authorization: `Bearer ${token}` },\n      },\n      user\n    )\n    return data\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const signInWithEmail = async ({\n  email,\n  password,\n}: {\n  email: string,\n  password: string,\n}): Promise<any> => {\n  try {\n    const { user } = await firebaseAuth.signInWithEmailAndPassword(\n      email,\n      password\n    )\n    const token = await user.getIdToken(true)\n    const { data } = await axios.get(`http://localhost:3080/api/v1/users/`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n    return data.user\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const signInWithGoogle = async (): Promise<any> => {\n  try {\n    const { user } = await firebaseAuth.signInWithPopup(googleProvider)\n    const token = await user.getIdToken(true)\n    const { data } = await axios.get(`http://localhost:3080/api/v1/users/`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n    return data\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const forgotPassword = async () => {}\n\nexport const signOut = () => {\n  firebaseAuth.signOut()\n}\n\nexport const deleteAccount = () => {}\n\nexport const likeSchoolById = async (schoolId: string): Promise<any> => {\n  try {\n    const user = await firebaseAuth.currentUser\n    // if (user) {}\n    console.log(user)\n    const token = await user.getIdToken(true)\n    const { data } = await axios.get(\n      `http://localhost:3080/api/v1/users/like/?schoolId=${schoolId}`,\n      {\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    )\n    return data\n  } catch (err) {\n    console.log(\n      'ðŸš€ ~ line 90, file: useAuth.js ~ likeSchoolById() try-catch ~ err',\n      err\n    )\n  }\n}\n\nexport const unlikeSchoolById = async (schoolId: string): Promise<any> => {\n  try {\n    const user = await firebaseAuth.currentUser\n    const token = await user.getIdToken()\n    const { data } = await axios.get(\n      `http://localhost:3080/api/v1/users/unlike?schoolId=${schoolId}`,\n      {\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    )\n    return data\n  } catch (err) {\n    console.log(\n      'ðŸš€ ~ file: useSchools.js ~ unlikeSchoolById() try-catch ~ err',\n      err\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}