{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/foris-react-redux/client/src/components/SchoolCards/SchoolCardLarge/SchoolCardLarge.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport TurnedInNot from \"@material-ui/icons/esm/TurnedInNot\";\nimport TurnedIn from \"@material-ui/icons/esm/TurnedIn\";\nimport Typography from \"@material-ui/core/esm/Typography\";\nimport IconButton from \"@material-ui/core/esm/IconButton\";\nimport Card from \"@material-ui/core/esm/Card\";\nimport Tooltip from \"@material-ui/core/esm/Tooltip\";\nimport BasicStatsBreadcrumb from '../BasicStatsBreadcrumb/BasicStatsBreacrumb.jsx';\nimport TestStatsBreadcrumb from '../TestStatsBreadcrumb/TestStatsBreadcrumb.jsx';\nimport ChipGroup from '../ChipGroup/ChipGroup.jsx';\nimport useStyles from './styles';\nimport { likeSchoolById, unlikeSchoolById } from '../../../hooks/useAuth';\nimport { useMutation } from 'react-query';\nimport { AuthContext } from '../../../AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SchoolCardLarge = props => {\n  _s();\n\n  const c = useStyles();\n  const {\n    url,\n    uuid,\n    card_img_src,\n    card_img_alt,\n    name_en,\n    name_jp,\n    summary,\n    rating_score,\n    ratings,\n    year_type,\n    school_type,\n    state_jp,\n    state_en,\n    cost,\n    sat,\n    isLiked\n  } = props.school;\n  const [isCardLiked, setIsCardLiked] = React.useState(isLiked);\n  const onClickLike = useMutation(likeSchoolById, {\n    onSuccess: () => {\n      setIsCardLiked(true);\n      console.log('success!');\n    }\n  });\n  const onClickUnlike = useMutation(unlikeSchoolById, {\n    onSuccess: () => {\n      setIsCardLiked(false);\n      console.log('unlike success!');\n    }\n  });\n  const authContext = React.useContext(AuthContext);\n\n  const handleLikeClick = () => {\n    setIsCardLiked(!isCardLiked);\n    !isCardLiked ? onClickLike.mutate(uuid) : onClickUnlike.mutate(uuid);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: c.cardContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: c.imgContainer,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: c.img,\n        src: card_img_src,\n        alt: card_img_alt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: c.cardTextContainer,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/schools/${url}`,\n        style: {\n          textDecoration: 'none',\n          color: 'black'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: c.cardTextArea,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: name_en\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BasicStatsBreadcrumb, {\n            ratingScore: rating_score,\n            ratings: ratings,\n            yearType: year_type,\n            schoolType: school_type,\n            state: state_jp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            className: c.shortSummary,\n            children: summary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: c.bottomGroup,\n        children: [/*#__PURE__*/_jsxDEV(TestStatsBreadcrumb, {\n          tuitionHigh: cost.in_state_tuition,\n          tuitionLow: cost.out_of_state_tuition // toeflRange={0}\n          ,\n          SATHigh: sat.high,\n          SATLow: sat.low\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: c.actionGroup,\n          children: [/*#__PURE__*/_jsxDEV(ChipGroup, {\n            chips: [{\n              label: 'テストチップ',\n              link: '',\n              chipId: '1'\n            }]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), !!authContext.user.uid ? /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleLikeClick,\n            children: isCardLiked ? /*#__PURE__*/_jsxDEV(TurnedIn, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(TurnedInNot, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(IconButton, {\n            disabled: true,\n            children: /*#__PURE__*/_jsxDEV(TurnedInNot, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SchoolCardLarge, \"fvIHhlCfAYq/c5ZXeVYvrIU/gR4=\", false, function () {\n  return [useStyles, useMutation, useMutation];\n});\n\n_c = SchoolCardLarge;\nexport default SchoolCardLarge;\n\nvar _c;\n\n$RefreshReg$(_c, \"SchoolCardLarge\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/foris-react-redux/client/src/components/SchoolCards/SchoolCardLarge/SchoolCardLarge.jsx"],"names":["React","Link","BasicStatsBreadcrumb","TestStatsBreadcrumb","ChipGroup","useStyles","likeSchoolById","unlikeSchoolById","useMutation","AuthContext","SchoolCardLarge","props","c","url","uuid","card_img_src","card_img_alt","name_en","name_jp","summary","rating_score","ratings","year_type","school_type","state_jp","state_en","cost","sat","isLiked","school","isCardLiked","setIsCardLiked","useState","onClickLike","onSuccess","console","log","onClickUnlike","authContext","useContext","handleLikeClick","mutate","cardContainer","imgContainer","img","cardTextContainer","textDecoration","color","cardTextArea","shortSummary","bottomGroup","in_state_tuition","out_of_state_tuition","high","low","actionGroup","label","link","chipId","user","uid"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react'\nimport { Link } from 'react-router-dom'\nimport { TurnedInNot, TurnedIn } from '@material-ui/icons'\nimport { Typography, IconButton, Card, Tooltip } from '@material-ui/core'\n\nimport BasicStatsBreadcrumb from '../BasicStatsBreadcrumb/BasicStatsBreacrumb.jsx'\nimport TestStatsBreadcrumb from '../TestStatsBreadcrumb/TestStatsBreadcrumb.jsx'\nimport ChipGroup from '../ChipGroup/ChipGroup.jsx'\nimport useStyles from './styles'\n\nimport { likeSchoolById, unlikeSchoolById } from '../../../hooks/useAuth'\nimport { useMutation } from 'react-query'\nimport { AuthContext } from '../../../AuthContext'\n\ntype Props = {\n  school: any,\n}\n\nconst SchoolCardLarge = (props: Props): React.Element<any> => {\n  const c = useStyles()\n  const {\n    url,\n    uuid,\n    card_img_src,\n    card_img_alt,\n    name_en,\n    name_jp,\n    summary,\n    rating_score,\n    ratings,\n    year_type,\n    school_type,\n    state_jp,\n    state_en,\n    cost,\n    sat,\n    isLiked,\n  } = props.school\n  const [isCardLiked, setIsCardLiked] = React.useState(isLiked)\n\n  const onClickLike = useMutation(likeSchoolById, {\n    onSuccess: () => {\n      setIsCardLiked(true)\n      console.log('success!')\n    },\n  })\n  const onClickUnlike = useMutation(unlikeSchoolById, {\n    onSuccess: () => {\n      setIsCardLiked(false)\n      console.log('unlike success!')\n    },\n  })\n  const authContext = React.useContext(AuthContext)\n\n  const handleLikeClick = () => {\n    setIsCardLiked(!isCardLiked)\n    !isCardLiked ? onClickLike.mutate(uuid) : onClickUnlike.mutate(uuid)\n  }\n\n  return (\n    <Card className={c.cardContainer}>\n      <div className={c.imgContainer}>\n        <img className={c.img} src={card_img_src} alt={card_img_alt} />\n      </div>\n      <div className={c.cardTextContainer}>\n        <Link\n          to={`/schools/${url}`}\n          style={{ textDecoration: 'none', color: 'black' }}>\n          <div className={c.cardTextArea}>\n            <Typography variant=\"h6\">{name_en}</Typography>\n            <BasicStatsBreadcrumb\n              ratingScore={rating_score}\n              ratings={ratings}\n              yearType={year_type}\n              schoolType={school_type}\n              state={state_jp}\n            />\n            <Typography variant=\"caption\" className={c.shortSummary}>\n              {summary}\n            </Typography>\n          </div>\n        </Link>\n        <div className={c.bottomGroup}>\n          <TestStatsBreadcrumb\n            tuitionHigh={cost.in_state_tuition}\n            tuitionLow={cost.out_of_state_tuition}\n            // toeflRange={0}\n            SATHigh={sat.high}\n            SATLow={sat.low}\n          />\n          <div className={c.actionGroup}>\n            <ChipGroup\n              chips={[{ label: 'テストチップ', link: '', chipId: '1' }]}\n            />\n            {!!authContext.user.uid ? (\n              <IconButton onClick={handleLikeClick}>\n                {isCardLiked ? (\n                  <TurnedIn fontSize=\"small\" />\n                ) : (\n                  <TurnedInNot fontSize=\"small\" />\n                )}\n              </IconButton>\n            ) : (\n              <IconButton disabled>\n                <TurnedInNot fontSize=\"small\" />\n              </IconButton>\n            )}\n          </div>\n        </div>\n      </div>\n    </Card>\n  )\n}\n\nexport default SchoolCardLarge\n"]},"metadata":{},"sourceType":"module"}