{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/foris-react-redux/client/src/components/App/App.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport loadable from '@loadable/component';\nimport algoliasearch from 'algoliasearch/lite';\nimport { InstantSearch, SearchBox, Hits } from 'react-instantsearch-dom';\nimport CircularProgress from \"@material-ui/core/esm/CircularProgress\";\nimport Container from \"@material-ui/core/esm/Container\";\nimport useStyles from './styles';\nimport { AuthContext } from '../../AuthContext';\nimport { onAuthStateChange } from '../../hooks/useAuth';\nimport Header from '../Header/Header';\nimport MyPage from '../MyPage/MyPage';\nimport Home from '../Home/Home';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignIn = loadable(_c = () => import('../Auth/SignIn/SignIn'));\n_c2 = SignIn;\nconst SignUp = loadable(_c3 = () => import('../Auth/SignUp/SignUp'));\n_c4 = SignUp;\nconst Footer = loadable(_c5 = () => import('../Footer/FooterSub.jsx'));\n_c6 = Footer;\nconst SchoolPage = loadable(_c7 = () => import('../SchoolPage/SchoolPage'));\n_c8 = SchoolPage;\nconst NoMatch = loadable(_c9 = () => import('../NoMatch/NoMatch'));\n_c10 = NoMatch;\n\nconst App = () => {\n  _s();\n\n  const c = useStyles();\n  const {\n    user,\n    setUser,\n    globalLoading,\n    currentPath\n  } = React.useContext(AuthContext);\n  const searchClient = algoliasearch('SMKYORP5ZT', 'c4fc6d06ee25a8e7c90de66a12e97804');\n  React.useEffect(() => {\n    const unsubscribe = onAuthStateChange(setUser);\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  React.useEffect(() => {\n    console.log('ðŸš€ ~ file: App.jsx ~ line 23 ~ globalLoading', globalLoading);\n  }, [globalLoading]);\n  const isNotAuth = !currentPath.match(/(auth\\/signin|auth\\/signup)/);\n  return /*#__PURE__*/_jsxDEV(React.StrictMode, {\n    children: /*#__PURE__*/_jsxDEV(InstantSearch, {\n      searchClient: searchClient,\n      indexName: \"jay_uscolleges\",\n      children: !globalLoading ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [isNotAuth ? /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 26\n        }, this) : null, /*#__PURE__*/_jsxDEV(Container, {\n          className: c.appContainer,\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/schools\",\n              component: Home\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/mypage\",\n              component: MyPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/auth/signin\",\n              component: SignIn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/auth/signup\",\n              component: SignUp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/schools/:schoolId\",\n              component: SchoolPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              component: NoMatch\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), isNotAuth ? /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 26\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)'\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"XUWS/NT0nhRVS3f7o9VKoHtP0QU=\", false, function () {\n  return [useStyles];\n});\n\n_c11 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"SignIn$loadable\");\n$RefreshReg$(_c2, \"SignIn\");\n$RefreshReg$(_c3, \"SignUp$loadable\");\n$RefreshReg$(_c4, \"SignUp\");\n$RefreshReg$(_c5, \"Footer$loadable\");\n$RefreshReg$(_c6, \"Footer\");\n$RefreshReg$(_c7, \"SchoolPage$loadable\");\n$RefreshReg$(_c8, \"SchoolPage\");\n$RefreshReg$(_c9, \"NoMatch$loadable\");\n$RefreshReg$(_c10, \"NoMatch\");\n$RefreshReg$(_c11, \"App\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/foris-react-redux/client/src/components/App/App.jsx"],"names":["React","Route","Switch","loadable","algoliasearch","InstantSearch","SearchBox","Hits","useStyles","AuthContext","onAuthStateChange","Header","MyPage","Home","SignIn","SignUp","Footer","SchoolPage","NoMatch","App","c","user","setUser","globalLoading","currentPath","useContext","searchClient","useEffect","unsubscribe","console","log","isNotAuth","match","appContainer","position","top","left","transform"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport loadable from '@loadable/component'\nimport algoliasearch from 'algoliasearch/lite'\nimport { InstantSearch, SearchBox, Hits } from 'react-instantsearch-dom'\n\nimport { CircularProgress, Container } from '@material-ui/core'\nimport useStyles from './styles'\nimport { AuthContext } from '../../AuthContext'\nimport { onAuthStateChange } from '../../hooks/useAuth'\n\nimport Header from '../Header/Header'\nimport MyPage from '../MyPage/MyPage'\nimport Home from '../Home/Home'\n\nconst SignIn = loadable(() => import('../Auth/SignIn/SignIn'))\nconst SignUp = loadable(() => import('../Auth/SignUp/SignUp'))\nconst Footer = loadable(() => import('../Footer/FooterSub.jsx'))\nconst SchoolPage = loadable(() => import('../SchoolPage/SchoolPage'))\nconst NoMatch = loadable(() => import('../NoMatch/NoMatch'))\n\nconst App = (): React.Element<any> => {\n  const c = useStyles()\n  const { user, setUser, globalLoading, currentPath } =\n    React.useContext(AuthContext)\n\n  const searchClient = algoliasearch(\n    'SMKYORP5ZT',\n    'c4fc6d06ee25a8e7c90de66a12e97804'\n  )\n\n  React.useEffect(() => {\n    const unsubscribe = onAuthStateChange(setUser)\n    return () => {\n      unsubscribe()\n    }\n  }, [])\n\n  React.useEffect(() => {\n    console.log('ðŸš€ ~ file: App.jsx ~ line 23 ~ globalLoading', globalLoading)\n  }, [globalLoading])\n\n  const isNotAuth = !currentPath.match(/(auth\\/signin|auth\\/signup)/)\n\n  return (\n    <React.StrictMode>\n      <InstantSearch searchClient={searchClient} indexName=\"jay_uscolleges\">\n        {!globalLoading ? (\n          <React.Fragment>\n            {isNotAuth ? <Header /> : null}\n            <Container className={c.appContainer}>\n              <Switch>\n                <Route exact path=\"/schools\" component={Home} />\n                <Route exact path=\"/mypage\" component={MyPage} />\n                <Route exact path=\"/auth/signin\" component={SignIn} />\n                <Route exact path=\"/auth/signup\" component={SignUp} />\n                <Route path=\"/schools/:schoolId\" component={SchoolPage} />\n                <Route component={NoMatch} />\n              </Switch>\n            </Container>\n            {isNotAuth ? <Footer /> : null}\n          </React.Fragment>\n        ) : (\n          <div\n            style={{\n              position: 'absolute',\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n            }}>\n            <CircularProgress />\n          </div>\n        )}\n      </InstantSearch>\n    </React.StrictMode>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}