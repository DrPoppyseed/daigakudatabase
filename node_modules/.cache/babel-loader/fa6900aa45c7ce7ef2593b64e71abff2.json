{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/foris-react-redux/client/src/components/Auth/SignIn/SignIn.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useMutation } from 'react-query';\nimport { useForm } from 'react-hook-form';\nimport useStyles from './styles';\nimport Divider from \"@material-ui/core/esm/Divider\";\nimport Paper from \"@material-ui/core/esm/Paper\";\nimport Typography from \"@material-ui/core/esm/Typography\";\nimport TextField from \"@material-ui/core/esm/TextField\";\nimport Box from \"@material-ui/core/esm/Box\";\nimport Button from \"@material-ui/core/esm/Button\";\nimport CircularProgress from \"@material-ui/core/esm/CircularProgress\";\nimport { PasswordInput, SocialButton, BottomText, AuthLink } from '../AuthCommon';\nimport { signInWithEmail, signInWithGoogle } from '../../../hooks/useAuth';\nimport { AuthContext } from '../../../AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignIn = () => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    control\n  } = useForm();\n  const {\n    setUser\n  } = React.useContext(AuthContext);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const c = useStyles();\n  const useSignInWithEmail = useMutation(signInWithEmail, {\n    onSuccess: data => {\n      setUser({\n        isSignedIn: true,\n        profile: data\n      });\n      console.log(data);\n    }\n  });\n  const useSignInWithGoogle = useMutation(signInWithGoogle, {\n    onSuccess: data => {\n      setUser(data);\n      console.log('🚀 ~ file: SignIn.js ~ line 33 ~ SignIn ~ data', data);\n    }\n  });\n\n  const onSubmit = data => {\n    useSignInWithEmail.mutate(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: c.pageContainer,\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      className: c.container,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        className: c.pageTitle,\n        variant: \"h6\",\n        children: \"FORIS\\u306B\\u30ED\\u30B0\\u30A4\\u30F3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: c.box,\n        children: [/*#__PURE__*/_jsxDEV(SocialButton, {\n          text: \"Google\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u3067\\u30ED\\u30B0\\u30A4\\u30F3\",\n          onButtonClick: useSignInWithGoogle.mutate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          className: c.divider\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          className: c.form,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            name: \"email\",\n            label: \"email\",\n            type: \"text\",\n            inputRef: register,\n            className: c.emailField,\n            autoComplete: \"username\",\n            variant: \"outlined\",\n            control: control,\n            defaultValue: \"\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PasswordInput, {\n            register: register,\n            control: control\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AuthLink, {\n            to: \"/auth/signin\",\n            text: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5FD8\\u308C\\u305F\\u5834\\u5408\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: c.signInButton,\n            variant: \"contained\",\n            color: \"primary\",\n            disabled: isLoading ? true : false,\n            type: \"submit\",\n            children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 28\n            }, this) : 'ログイン'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BottomText, {\n          before: \"FORIS\\u306E\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u3092\\u3082\\u3063\\u3066\\u3044\\u306A\\u3044\\u5834\\u5408\\u306F\",\n          link: \"\\u65B0\\u898F\\u767B\\u9332\",\n          to: \"/auth/signup\",\n          after: \"\\u304B\\u3089\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: c.toLegalContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: c.grow\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthLink, {\n        to: \"/legal/user-agreement\",\n        text: \"\\u5229\\u7528\\u898F\\u7D04\",\n        type: \"legal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthLink, {\n        to: \"/legal/privacy\",\n        text: \"\\u30D7\\u30E9\\u30A4\\u30D0\\u30B7\\u30FC\",\n        type: \"legal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignIn, \"aaoBOloJUTVhUKraOTKBeB4/sRA=\", false, function () {\n  return [useForm, useStyles, useMutation, useMutation];\n});\n\n_c = SignIn;\nexport default SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/foris-react-redux/client/src/components/Auth/SignIn/SignIn.js"],"names":["React","useMutation","useForm","useStyles","PasswordInput","SocialButton","BottomText","AuthLink","signInWithEmail","signInWithGoogle","AuthContext","SignIn","register","handleSubmit","control","setUser","useContext","isLoading","setIsLoading","useState","c","useSignInWithEmail","onSuccess","data","isSignedIn","profile","console","log","useSignInWithGoogle","onSubmit","mutate","pageContainer","container","pageTitle","box","divider","form","emailField","signInButton","toLegalContainer","grow"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react'\nimport { useMutation } from 'react-query'\nimport { useForm } from 'react-hook-form'\nimport useStyles from './styles'\nimport {\n  Divider,\n  Paper,\n  Typography,\n  TextField,\n  Box,\n  Button,\n  CircularProgress,\n} from '@material-ui/core'\nimport {\n  PasswordInput,\n  SocialButton,\n  BottomText,\n  AuthLink,\n} from '../AuthCommon'\nimport { signInWithEmail, signInWithGoogle } from '../../../hooks/useAuth'\nimport { AuthContext } from '../../../AuthContext'\n\nconst SignIn = (): React.Element<any> => {\n  const { register, handleSubmit, control } = useForm()\n  const { setUser } = React.useContext(AuthContext)\n  const [isLoading, setIsLoading] = React.useState(false)\n  const c = useStyles()\n  const useSignInWithEmail = useMutation(signInWithEmail, {\n    onSuccess: data => {\n      setUser({ isSignedIn: true, profile: data })\n      console.log(data)\n    },\n  })\n  const useSignInWithGoogle = useMutation(signInWithGoogle, {\n    onSuccess: data => {\n      setUser(data)\n      console.log('🚀 ~ file: SignIn.js ~ line 33 ~ SignIn ~ data', data)\n    },\n  })\n\n  const onSubmit = data => {\n    useSignInWithEmail.mutate(data)\n  }\n\n  return (\n    <div className={c.pageContainer}>\n      <Paper className={c.container}>\n        <Typography className={c.pageTitle} variant=\"h6\">\n          FORISにログイン\n        </Typography>\n\n        <Box className={c.box}>\n          <SocialButton\n            text=\"Googleアカウントでログイン\"\n            onButtonClick={useSignInWithGoogle.mutate}\n          />\n\n          <Divider className={c.divider} />\n          <form onSubmit={handleSubmit(onSubmit)} className={c.form}>\n            <TextField\n              name=\"email\"\n              label=\"email\"\n              type=\"text\"\n              inputRef={register}\n              className={c.emailField}\n              autoComplete=\"username\"\n              variant=\"outlined\"\n              control={control}\n              defaultValue=\"\"\n              required\n            />\n            <PasswordInput register={register} control={control} />\n            <AuthLink to=\"/auth/signin\" text=\"パスワードを忘れた場合\" />\n            <Button\n              className={c.signInButton}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={isLoading ? true : false}\n              type=\"submit\">\n              {isLoading ? <CircularProgress /> : 'ログイン'}\n            </Button>\n          </form>\n          <BottomText\n            before=\"FORISのアカウントをもっていない場合は\"\n            link=\"新規登録\"\n            to=\"/auth/signup\"\n            after=\"から。\"\n          />\n        </Box>\n      </Paper>\n      <div className={c.toLegalContainer}>\n        <div className={c.grow} />\n        <AuthLink to=\"/legal/user-agreement\" text=\"利用規約\" type=\"legal\" />\n        <AuthLink to=\"/legal/privacy\" text=\"プライバシー\" type=\"legal\" />\n      </div>\n    </div>\n  )\n}\n\nexport default SignIn\n"]},"metadata":{},"sourceType":"module"}